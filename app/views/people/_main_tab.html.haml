%p
  %label Gender:
  %span= @person.gender ||= "Unknown"
%p
  %label Address:
  %span.floatLeft= @person.full_address "<br />"
.clear &nbsp;
%p
  %label Mobile:
  %span= @person.mobile ||= "N/A"
%p
  %label Phone:
  %span= @person.phone ||= "N/A"

= divider

%p
  %label Christian?
  %span
    %strong= yes_or_no @person.christian  
%p
  %label Became Christian with CCCA?
  %span Not implemented yet.

%p
  %label Date of Birth:
  %span= @person.date_of_birth.to_s(:long)
%p
  %label Age:
  %span= @person.age

= divider

%p
  %label Current employment:
  %span
    - if @person.workplace.nil?
      Unemployed
    - else
      = @person.workplace.name
      -# TODO Make the workplace name link to details about it

= divider

%p
  %label Education History:
  %span
    - if @person.students.empty?
      N/A
    - else
      - @person.students.each do |student|
        = student.school.name
        - if student.start_date?
          = "(#{student.start_date.to_s :long}"
          - if student.end_date?
            =" - #{student.end_date.to_s :long})"
          - else
            to present)
        %br

= divider

%p
  %label Marital status:
  %span
    - if @person.spouse.nil?
      Unmarried
    - else
      Married to 
      = link_to @person.spouse.full_name, person_path(@person.spouse)
%p
  %label Children:
  %span.floatLeft
    - if @person.children.empty?
      None
    - else
      - @person.children.each do |child|
        = link_to child.full_name, person_path(child)
        =", #{child.age}"
        %br
.clear &nbsp;
%p
  %label Age of oldest child:
  %span
    - if @person.children.empty?
      N/A
    - else
      = @person.children.sort_by(&:age).last.age
      
= divider

%p
  %label Home church:
  - if @person.church.nil?
    None
  - else
    %span= @person.church.name
%p
  %label Church address:
  - if @person.church.nil?
    N/A
  - else
    %span= @person.church.full_address ", "
%p
  %label Pastor:
  %span= @person.church_pastor ||= "N/A"
  
= divider

%p.b Events of note:
- if @person.life_events.empty?
  None
- else
  - @person.life_events.each do |life_event|
    %p
      %label= life_event.description
      %span= life_event.event_date.to_s :long
